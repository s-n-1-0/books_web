"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[675],{1511:function(n,e,t){var r=t(5893),o=t(9008),i=t.n(o);e.Z=function(n){var e=n.title,t=n.description,o=void 0===t?"":t,a=n.pageUrl,l=n.ogType,c=n.noindex,s=void 0!==c&&c;return(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:e}),function(){if(""!=o)return(0,r.jsx)("meta",{name:"description",content:o})}(),(0,r.jsx)("link",{rel:"icon",href:"/images/icon_web.png"}),(0,r.jsx)("link",{rel:"canonical",href:a}),(0,r.jsx)("meta",{property:"og:url",content:a}),(0,r.jsx)("meta",{property:"og:type",content:l}),(0,r.jsx)("meta",{property:"og:title",content:e}),(0,r.jsx)("meta",{property:"og:image",content:"https://books.sn-10.net/images/ogp.png"}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary"}),function(){if(s)return(0,r.jsx)("meta",{name:"robots",content:"noindex"})}()]})}},9028:function(n,e,t){var r=t(5893),o=t(3430),i=t(4184),a=t.n(i),l=t(1664),c=t.n(l),s=t(7294);e.Z=function(n){var e=n.isMenu,t=void 0===e||e,i=(0,s.useState)(!1),l=i[0],u=i[1],d=(0,s.useState)(!1),h=d[0],f=d[1];if((0,s.useEffect)(function(){u(!(0,o.TS)())},[]),!l)return(0,r.jsx)(r.Fragment,{});var m=a()("w-full","flex-grow","lg:flex","lg:items-center","lg:w-auto",{hidden:!h,block:h});return(0,r.jsx)("header",{children:(0,r.jsxs)("nav",{className:"flex items-center justify-between flex-wrap bg-my-color p-6",children:[(0,r.jsx)("div",{className:"flex items-center flex-shrink-0 text-white mr-6",children:(0,r.jsx)(c(),{href:"/ja/share",children:(0,r.jsx)("a",{className:"font-semibold text-xl tracking-tight",children:(0,r.jsx)("span",{children:"Share Books"})})})}),function(){if(t)return(0,r.jsxs)("div",{style:{height:h?"100px":"30px",transition:"height 1s ease"},children:[(0,r.jsx)("div",{className:"block lg:hidden",children:(0,r.jsx)("button",{onClick:function(){return f(!h)},className:"flex ml-auto items-center px-3 py-2 border rounded text-white border-white hover:text-gray-400 hover:border-gray-400",children:(0,r.jsxs)("svg",{className:"fill-current h-3 w-3",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("title",{children:"Menu"}),(0,r.jsx)("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})]})})}),(0,r.jsxs)("div",{className:m,children:[(0,r.jsx)("div",{className:"text-sm mt-2 md:mr-2 lg:mt-0 lg:flex-grow text-end",children:(0,r.jsx)(c(),{href:"/ja/share",children:(0,r.jsx)("a",{className:"inline-block text-sm px-4 py-2 leading-none border rounded text-white border-white hover:border-transparent hover:text-my-color hover:bg-white",children:"本を探す"})})}),(0,r.jsx)("div",{className:"my-2 lg:my-0",children:(0,r.jsx)("span",{className:"w-fit lg:flex-grow",children:(0,r.jsx)("a",{href:"/ja/share/list",className:" inline-block text-sm px-4 py-2 leading-none border rounded text-white border-white hover:border-transparent hover:text-my-color hover:bg-white",children:"リストを作成"})})})]})]})}()]})})}},7313:function(n,e,t){var r=t(7297),o=t(4288),i=t(3430),a=t(9732),l=t(3024),c=t(7814);function s(){var n=(0,r.Z)(["\n    text-align: end;\n    border: none;\n    background-color: #1da1f2;\n    color: white;\n    cursor: pointer;\n  "]);return s=function(){return n},n}e.Z=function(n){var e=n.text,t=n.url,r=void 0===t?encodeURIComponent(location.href):t,u=(0,a.iv)(s());return(0,o.tZ)("button",{css:u,className:"h-fit py-2 px-3 rounded-full",onClick:function(){var n="https://twitter.com/share?text="+encodeURIComponent(e+" - Share Books")+"&url="+encodeURIComponent(r);(0,i.bG)({key:"completedSharing",data:{type:"twitter",url:n}})||window.open(n)},children:(0,o.tZ)(c.G,{icon:l.mdU})})}},7138:function(n,e,t){t.d(e,{Q:function(){return u}});var r=t(5893),o=t(578),i=t(2336),a=t(4184),l=t.n(a),c=t(7294),s=t(5474);function u(n){var e=n.url,t=n.bookData,a=n.position,u=n.headText,d=n.onClick,h=n.onClickTitle,f=n.makeRightElement,m=function(){return x?(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:l()({"mr-0.5":""!=u}),children:null!=u?u:""}),""==x.thumbnail?(0,r.jsx)("span",{className:"mr-2"}):(0,r.jsx)(s.Z,{src:x.thumbnail,mode:"small"}),(0,r.jsxs)("div",{className:"pl-0.5 line-clamp-2",children:[(0,r.jsx)("span",{className:"text-sm sm:text-base "+l()({underline:h,"cursor-pointer":h}),onClick:function(){h&&h(x)},children:x.title}),(0,r.jsx)("br",{}),(0,r.jsxs)("small",{className:"text-secondary",children:["ISBN : ",x.isbn]})]})]}),(0,r.jsx)("div",{children:null==f?void 0:f(x)})]}):void 0},p=(0,c.useContext)(o.U),v=(0,c.useState)(null!=t?t:null),x=v[0],b=v[1];switch((0,c.useEffect)(function(){if(e){var n=e.searchParams.get("isbn");n&&n in p.bookDataCaches?b(p.bookDataCaches[n]):(0,i.xd)(e).then(function(n){n&&(p.addBookData(n.isbn,n),b(n))})}},[p,e]),a){case"top":return(0,r.jsx)("li",{className:"w-full px-4 py-2 border-b border-gray-200 rounded-t-lg",onClick:d,children:m()});case"center":return(0,r.jsx)("li",{className:"w-full px-4 py-2 border-b border-gray-200",onClick:d,children:m()});case"bottom":return(0,r.jsx)("li",{className:"w-full px-4 py-2 rounded-b-lg",onClick:d,children:m()})}}},5474:function(n,e,t){var r=t(5893);e.Z=function(n){var e=n.src,t=n.mode,o={position:"relative",minWidth:"60px",maxWidth:"100px",height:"100px"};return"small"==(void 0===t?"default":t)&&(o.maxWidth="60px",o.height="50px"),(0,r.jsx)("img",{src:e,alt:"",style:o,className:"object-contain"})}},1326:function(n,e,t){t.d(e,{Z:function(){return s}});var r=t(5893),o=t(3244),i=t(3024),a=t(7814),l=t(4274),c=function(n){var e=n.color,t=n.children,o=void 0===e?{color:"bg-blue-500",hoverColor:"hover:bg-blue-700"}:e,i="font-bold py-2 px-4 rounded ".concat(o.color," text-white ").concat(o.hoverColor);return(0,r.jsx)("button",{className:i,children:t})},s=function(n){var e=n.isbn,t=(0,l.convertIsbn2Url)(e);return(0,r.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",onClick:function(){(0,o.m)({storeName:"amazon",isbn:e})},children:(0,r.jsx)(c,{color:{color:"bg-neutral-700",hoverColor:"hover:bg-neutral-900"},children:(0,r.jsxs)("span",{children:[(0,r.jsx)(a.G,{icon:i._sB}),(0,r.jsx)("span",{className:"ml-2",children:"Amazon"})]})})})}},1055:function(n,e,t){var r=t(5893),o=t(3244),i=t(4274);e.Z=function(n){var e,t=n.isbn,a=13==t.length?t:null!==(e=(0,i.convertIsbn)(t))&&void 0!==e?e:t;return(0,r.jsx)("a",{href:"https://honto.jp/netstore/search.html?isbn="+a,target:"_blank",rel:"noopener noreferrer",className:"m-2",onClick:function(){(0,o.m)({storeName:"amazon",isbn:t})},children:(0,r.jsx)("img",{src:"https://i.gyazo.com/ee86b2469f712858a4e1b0ce17684939.png",alt:"hontoロゴ",style:{height:"50px",width:"inherit",objectFit:"contain"}})})}},909:function(n,e,t){var r=t(5893),o=t(3244),i=t(4274);e.Z=function(n){var e,t=n.isbn,a=13==t.length?t:null!==(e=(0,i.convertIsbn)(t))&&void 0!==e?e:t;return(0,r.jsx)("a",{href:"https://www.kinokuniya.co.jp/f/dsg-01-"+a,target:"_blank",rel:"noopener noreferrer",className:"m-2",onClick:function(){(0,o.m)({storeName:"kinokuniya",isbn:t})},children:(0,r.jsx)("img",{src:"https://corp.kinokuniya.co.jp/wp-content/uploads/2020/07/logo.png",alt:"紀伊國屋ロゴ",style:{height:"125px",width:"inherit",objectFit:"contain"}})})}},578:function(n,e,t){t.d(e,{U:function(){return a},f:function(){return l}});var r=t(1799),o=t(5893),i=t(7294),a=(0,i.createContext)({bookDataCaches:{},addBookData:function(n,e){}}),l=function(n){var e=n.children,t=(0,i.useContext)(a),l=(0,i.useState)(t.bookDataCaches),c=l[0],s=l[1];return(0,o.jsx)(a.Provider,{value:{bookDataCaches:c,addBookData:function(n,e){if(!(n in c)){var t=(0,r.Z)({},c);t[n]=e,s(t)}}},children:e})}},3244:function(n,e,t){t.d(e,{m:function(){return o}});var r=t(4274);function o(n){var e,t,o=n.storeName,i=n.isbn;gtag("event","to_store",{event_category:o,event_label:13==i.length?i:null!==(e=(0,r.convertIsbn)(i))&&void 0!==e?e:i,value:"1"})}},3430:function(n,e,t){t.d(e,{TS:function(){return c},bG:function(){return i},my:function(){return a}});var r=t(7568),o=t(655);function i(n){var e=window.flutter_inappwebview;return!!e&&(e.callHandler(n.key,n.data),!0)}function a(){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(function(){var n,e;return(0,o.__generator)(this,function(t){switch(t.label){case 0:if(!(n=window.flutter_inappwebview))return[3,2];return[4,n.callHandler("requestBarcodeReader")];case 1:return[2,"string"==typeof(e=t.sent())?e:""];case 2:return[2,""];case 3:return[2]}})})).apply(this,arguments)}function c(){return null!=window.flutter_inappwebview}},4549:function(n,e,t){var r=t(7568),o=t(655);function i(){return(i=(0,r.Z)(function(){var n,e,t;return(0,o.__generator)(this,function(r){switch(r.label){case 0:if(!(e=window.flutter_inappwebview))return[3,2];return[4,e.callHandler("readClipboardText",{})];case 1:return[2,"string"==typeof(t=r.sent())?t:null];case 2:return[2,null===(n=navigator.clipboard)||void 0===n?void 0:n.readText()];case 3:return[2]}})})).apply(this,arguments)}function a(){return(a=(0,r.Z)(function(n){var e,t;return(0,o.__generator)(this,function(r){return(t=window.flutter_inappwebview)?[2,t.callHandler("writeClipboardText",{text:n})]:[2,null===(e=navigator.clipboard)||void 0===e?void 0:e.writeText(n)]})})).apply(this,arguments)}e.Z={readText:function(){return i.apply(this,arguments)},writeText:function(n){return a.apply(this,arguments)}}},4946:function(n,e,t){t.d(e,{W:function(){return l},a:function(){return c}});var r=t(7568),o=t(655),i=t(9669),a=t.n(i);function l(n){var e,t="".concat("https://www.googleapis.com/books/v1/volumes","?q="),r=n.q,o=!1;return(null==r?void 0:r.intitle)&&(o=!0,t+="intitle:".concat(encodeURI(r.intitle))),(null==r?void 0:r.isbn)&&(o&&(t+="+"),o=!0,t+="isbn:"+r.isbn),a().get("".concat(t,"&startIndex=").concat(null!==(e=n.startIndex)&&void 0!==e?e:0))}function c(n){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(function(n){var e,t,r,i;return(0,o.__generator)(this,function(e){switch(e.label){case 0:return[4,l({q:{isbn:n}})];case 1:return[2,null!=(i=(null!==(r=null==(t=e.sent().data)?void 0:t.items)&&void 0!==r?r:[]).find(function(e){return e.volumeInfo.industryIdentifiers.find(function(e){return e.identifier==n})}))?i:null]}})})).apply(this,arguments)}},1242:function(n,e,t){t.d(e,{U:function(){return i}});var r=t(9528),o=t.n(r);function i(n){return o().get(n)}},2336:function(n,e,t){t.d(e,{Nk:function(){return c},Sn:function(){return l},X7:function(){return f},k5:function(){return u},rP:function(){return d},xd:function(){return h},xr:function(){return s}});var r=t(7568),o=t(655),i=t(4946),a=t(1242);function l(n,e,t){var r=new URLSearchParams;return r.append("isbn",n),r.append("from",e),""!=t&&r.append("comment",encodeURIComponent(t)),c(r)}function c(n){return"".concat(location.origin,"/ja/share?").concat(n.toString())}function s(n){var e;return!!n.href.startsWith(location.origin)&&!((null===(e=n.pathname.split("/"))||void 0===e?void 0:e[2])!=="share"||null==n.searchParams.get("isbn"))}function u(n,e,t){var r=new URLSearchParams;return n.forEach(function(n){return r.append("books",n.searchParams.toString())}),r.append("store",e),r.append("title",t),"".concat(location.origin,"/ja/share/list?").concat(r.toString())}function d(n){var e,t,r,o,i,a,l=n.volumeInfo;return{title:l.title,author:null!==(r=null===(e=l.authors)||void 0===e?void 0:e.join(" "))&&void 0!==r?r:"",isbn:l.industryIdentifiers[0].identifier,publisher:null!==(o=l.publisher)&&void 0!==o?o:"",thumbnail:null!==(i=null==l?void 0:null===(t=l.imageLinks)||void 0===t?void 0:t.smallThumbnail)&&void 0!==i?i:"",description:null!==(a=l.description)&&void 0!==a?a:"",from:"googlebooks"}}function h(n){var e,t,r;return f(null!==(e=n.searchParams.get("isbn"))&&void 0!==e?e:"",null!==(t=n.searchParams.get("from"))&&void 0!==t?t:"")}function f(n,e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(function(n,e){return(0,o.__generator)(this,function(t){switch(e){case"opendb":default:return[2,a.U(n).then(function(n){var e,t,r,o=null===(e=n.data)||void 0===e?void 0:e[0];return o?{title:o.summary.title,author:o.summary.author,isbn:o.summary.isbn,publisher:o.summary.publisher,thumbnail:o.summary.cover,description:null!==(r=null===(t=o.onix.CollateralDetail.TextContent)||void 0===t?void 0:t[0].Text)&&void 0!==r?r:"",from:"openbd"}:null})];case"googlebooks":return[2,(0,i.a)(n).then(function(n){return n?d(n):null})]}return[2,Promise.resolve(null)]})})).apply(this,arguments)}},9881:function(n,e,t){t.d(e,{GE:function(){return l},cI:function(){return a}});var r=t(1799),o=t(9396),i=t(2336);function a(n,e,t){var a="";return n.forEach(function(n,e){var t=(0,o.Z)((0,r.Z)({},n),{isWriteSiteName:!1});a+="+ ".concat(l(t),"\n")}),a+="\n"+c("リスト一覧 - Share Books",(0,i.k5)(n.map(function(n){return n.url}),e,t))}function l(n){var e=n.bookData,t=n.comment,r=n.url,o=n.isWriteSiteName,a=r?r.href:(0,i.Sn)(e.isbn,e.from,null!=t?t:""),l=""==e.author?"":"(".concat(e.author,")");return c("「".concat(e.title,"」").concat(l," ").concat(o?"- Share Books":""),a)}function c(n,e){return"[".concat(n,"](").concat(e,")")}}}]);