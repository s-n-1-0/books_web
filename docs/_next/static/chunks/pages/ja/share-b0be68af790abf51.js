(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{910:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ja/share",function(){return n(1311)}])},5921:function(e,t,n){"use strict";var s=n(5893);t.Z=function(){return(0,s.jsxs)("div",{className:"flex justify-center p-10",children:[(0,s.jsx)("div",{className:"animate-ping h-2 w-2 bg-my-color rounded-full"}),(0,s.jsx)("div",{className:"animate-ping h-2 w-2 bg-my-color rounded-full mx-4"}),(0,s.jsx)("div",{className:"animate-ping h-2 w-2 bg-my-color rounded-full"})]})}},3473:function(e,t,n){"use strict";n.d(t,{N:function(){return b}});var s=n(7568),l=n(655),r=n(5893),a=n(3430),i=n(4549),c=n(4946),o=n(9211),d=n(9417),u=n(7814),x=n(4184),m=n.n(x),h=n(7294),f=n(5921),j=n(7138);function p(e){var t=e.bookData,n=(0,h.useState)(!1),s=n[0],l=n[1];return(0,r.jsxs)("div",{className:"flex flex-col justify-end",onClick:function(e){i.Z.writeText((0,o.Sn)(t.isbn,t.from,"")),(0,a.b)({key:"completedSharing",data:{type:"default",url:""}}),l(!0),e.stopPropagation()},children:[(0,r.jsx)(u.G,{className:"text-my-color",icon:d.kZ_}),(0,r.jsx)("span",{className:m()({hidden:!s}),children:(0,r.jsx)("small",{className:"text-secondary",children:"コピー!"})})]})}var b=(0,h.forwardRef)(function(e,t){var n=e.isNoheader,a=(0,h.useState)([]),i=a[0],d=a[1],u=(0,h.useState)(!0),x=u[0],m=u[1];function b(e){return g.apply(this,arguments)}function g(){return(g=(0,s.Z)(function(e){var t,n,s;return(0,l.__generator)(this,function(n){switch(n.label){case 0:return m(!0),[4,(0,c.W)({q:{intitle:e}})];case 1:return d(null!==(s=null===(t=n.sent().data)||void 0===t?void 0:t.items)&&void 0!==s?s:[]),m(!1),[2]}})})).apply(this,arguments)}return((0,h.useImperativeHandle)(t,function(){return{search:b}}),x)?(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(f.Z,{})}):(0,r.jsxs)("div",{children:[(0,r.jsx)("ul",{className:"m-2 text-left text-sm font-medium text-gray-900 bg-white rounded-lg border border-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-white cursor-pointer",children:i.filter(function(e){var t,n,s=null==e?void 0:null===(t=e.volumeInfo)||void 0===t?void 0:null===(n=t.industryIdentifiers)||void 0===n?void 0:n[0];return!!s&&("ISBN_10"==s.type||"ISBN_13"==s.type)}).map(function(e,t){var s=(0,o.rP)(e),l=0==t?"top":t==i.length-1?"bottom":"center";return(0,r.jsx)(j.Q,{onClick:function(){var t=(0,o.Sn)(e.volumeInfo.industryIdentifiers[0].identifier,"googlebooks","",n);window.open(t,"_blank")},bookData:s,position:l,headText:String(t+1),makeRightElement:function(){return(0,r.jsx)(p,{bookData:s})}},e.id)})}),function(){if(0==i.length)return(0,r.jsx)("p",{className:"text-center text-secondary",children:"該当する書籍がヒットしませんでした..."})}()]})})},1311:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var s=n(5893),l=n(9417),r=n(7814),a=n(7294),i=(0,a.forwardRef)(function(e,t){var n,i=e.comment,c=e.onChange,o=(0,a.useState)(!1),d=o[0],u=o[1];return((0,a.useImperativeHandle)(t,function(){return{finishEditing:function(){u(!1)}}}),d||""!=i)?d?(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-400",children:["コメント",(0,s.jsx)("small",{className:"ml-2",children:"コメントが2行以上の場合、1行目がタイトルとして表示されます。"})]}),(0,s.jsx)("textarea",{rows:4,className:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"この本は...",value:i,onChange:function(e){c(e.target.value)}})]}):(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:" lg:w-48 flex-none bg-cover rounded-t lg:rounded-t-none lg:rounded-l text-center overflow-hidden",title:"Woman holding a mug"}),(0,s.jsx)("div",{className:"border border-gray-400 lg:border-gray-400 bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col justify-between leading-normal",children:(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600 flex items-center",children:[(0,s.jsx)(r.G,{icon:l.Mzg}),(0,s.jsx)("span",{className:"pl-1",children:"コメント"}),(0,s.jsxs)("span",{className:"font-bold text-secondary",children:["(",(0,s.jsx)("u",{className:"cursor-pointer",onClick:function(){u(!0)},children:"編集"})," ","/"," ",(0,s.jsx)("u",{className:"cursor-pointer",onClick:function(){c(""),u(!0)},children:"新しくコメントする"}),")"]})]}),(n=i.split("\n")).length>1?(0,s.jsxs)("div",{children:[" ",(0,s.jsx)("div",{className:"text-gray-900 font-bold text-xl my-2",children:n[0]}),(0,s.jsx)("p",{className:"text-gray-700 text-base",children:n.slice(1).join("\n")})]}):(0,s.jsx)("p",{className:"text-gray-700 text-base",children:i})]})})]}):(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("span",{className:"underline cursor-pointer",onClick:function(){u(!0)},children:"この本にコメントを残す"})})}),c=n(5474),o=n(9211),d=n(4274),u=n(1664),x=n.n(u),m=n(7568),h=n(655),f=n(3473),j=n(3454),p=(0,a.forwardRef)(function(e,t){var n=function(){o(!1)},i=(0,a.useState)(!1),c=i[0],o=i[1],d=(0,a.useState)(""),u=d[0],x=d[1],p=(0,a.useRef)(null);function b(e){return g.apply(this,arguments)}function g(){return(g=(0,m.Z)(function(e){return(0,h.__generator)(this,function(t){return o(!0),x(e),j.nextTick(function(){var t;null===(t=p.current)||void 0===t||t.search(e)}),[2]})})).apply(this,arguments)}return((0,a.useImperativeHandle)(t,function(){return{openModal:b,closeModal:n}}),c)?(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-700 bg-opacity-50 overflow-hidden z-20",children:(0,s.jsxs)("div",{className:"relative h-5/6 w-full mx-4 lg:mx-0 lg:w-3/4 md:p-4 bg-white rounded-md shadow-xl overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,s.jsxs)("h3",{className:"ml-auto",children:[(0,s.jsx)("input",{type:"text",value:u,className:"inline-block bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2.5 mr-1",onChange:function(e){x(e.target.value)}}),(0,s.jsx)("button",{className:"bg-my-color text-white font-bold py-1 px-2 rounded-lg ml-1 mr-4",onClick:function(){j.nextTick(function(){var e;null===(e=p.current)||void 0===e||e.search(u)})},children:(0,s.jsx)(r.G,{icon:l.wn1})})]}),(0,s.jsx)(r.G,{className:"text-3xl p-2 cursor-pointer",icon:l.g82,onClick:n})]}),(0,s.jsx)("hr",{className:"mb-3"}),(0,s.jsx)(f.N,{ref:p,isNoheader:!1})]})}):(0,s.jsx)("span",{})});function b(e){var t=e.buttonText,n=e.editingText,l=e.onClick;return""!=n?(0,s.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full ml-2 w-100 whitespace-nowrap",onClick:l,children:t}):(0,s.jsx)("span",{})}var g=function(e){var t=e.errorText,n=(0,a.useState)(""),i=n[0],c=n[1],u=(0,a.useState)(""),m=u[0],h=u[1],f=(0,a.useState)(""),j=f[0],g=f[1],N=(0,a.useState)(""),v=N[0],y=N[1],w=(0,a.useRef)(null),k="Kindle(電子書籍)のURLは現在非対応です。Amazonの商品ページで紙の書籍を選択してください。";return(0,s.jsxs)("div",{className:"text-center mt-4 mx-auto",style:{maxWidth:"1250px"},children:[(0,s.jsxs)("div",{className:"py-10 text-start px-4 bg-gray-100 relative mx-auto",style:{height:"calc( 100vw / 1250 * 400)",minHeight:"200px",maxHeight:"400px",fontFamily:"'游明朝 Medium','Yu Mincho',YuMincho,'Hiragino Mincho Pro',serif"},children:[(0,s.jsxs)("div",{className:"relative z-10 bg-white bg-opacity-90 w-fit rounded ml-2 p-2",children:[(0,s.jsxs)("h1",{className:"text-3xl text-my-color md:text-4xl",children:[(0,s.jsx)("span",{className:"inline-flex justify-center",children:(0,s.jsx)(r.G,{icon:l.FL8,className:"mr-1 text-xl md:text-2xl"})}),"読書日より"]}),(0,s.jsx)("hr",{className:"mt-1"}),(0,s.jsx)("p",{className:"text-slate-500 text-sm md:text-base",children:"登録不要で簡単に書籍を共有することができます。"})]}),(0,s.jsx)("div",{className:"absolute py-4 px-2 h-full w-full top-0 right-0",children:(0,s.jsxs)("div",{className:"relative h-full w-full",children:[(0,s.jsx)("img",{className:"object-cover ml-auto z-0 rounded-md h-full w-full",src:"https://hello.sn-10.net/apps/books/mid_thumbnail.webp",alt:"Painted by Midjourney"}),(0,s.jsx)("p",{className:"absolute bottom-0 right-0 p-2 text-white opacity-90",children:(0,s.jsxs)("small",{children:["Painted by"," ",(0,s.jsx)("a",{href:"https://www.midjourney.com/",className:"underline",children:"Midjourney"}),"."]})})]})})]}),(0,s.jsx)("hr",{className:"mb-4"}),(0,s.jsxs)("h3",{className:"pt-5 text-xl pb-2 text-slate-700",children:[(0,s.jsx)(r.G,{icon:l.wlW}),(0,s.jsx)("span",{className:"ml-1",children:"次の方法で書籍を共有することができます。"})]}),(0,s.jsx)("p",{className:"text-red-600",children:t}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex items-end",children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2 text-left",children:"ISBNで共有"}),(0,s.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",inputMode:"email",placeholder:"9784798056920",value:i,onChange:function(e){c(e.target.value)}})]}),(0,s.jsx)(b,{buttonText:"共有",editingText:i,onClick:function(){location.href=(0,o.Sn)(i,"openbd","")}})]}),(0,s.jsx)("p",{className:"text-left text-secondary",children:(0,s.jsxs)("small",{children:["\uD83C\uDF89",(0,s.jsxs)("span",{className:"ml-1",children:[(0,s.jsx)(r.G,{icon:l.VdD}),"バーコードからISBNを読み取る機能は、アプリをダウンロードすると利用可能です!"]})]})})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex items-end",children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2 text-left",children:"タイトルで調べる"}),(0,s.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",inputMode:"text",placeholder:"この素晴らしい...",value:m,onChange:function(e){h(e.target.value)}})]}),(0,s.jsx)(b,{buttonText:"調べる",editingText:m,onClick:function(){var e;null===(e=w.current)||void 0===e||e.openModal(m)}})]}),(0,s.jsx)("p",{className:"text-left text-secondary",children:(0,s.jsx)("small",{children:"タイトル検索で書籍が見つからない場合はISBN検索をお試しください。"})}),(0,s.jsx)(p,{ref:w})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex items-end",children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("label",{className:"block text-gray-700 text-sm mb-2 text-left",children:[(0,s.jsx)("span",{className:"font-bold",children:"Amazon URLで共有"}),(0,s.jsx)("small",{className:"ml-2 text-secondary",children:"商品ページのURLを張り付けてください"})]}),(0,s.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",inputMode:"url",placeholder:"https://www.amazon.co.jp/dp/4088831209/...",value:j,onChange:function(e){g(e.target.value)}})]}),(0,s.jsx)(b,{buttonText:"共有",editingText:j,onClick:function(){var e=(0,d.convertUrl2Isbn13)(j);""!=e.isbn?location.href=(0,o.Sn)(e.isbn,"openbd",""):"KINDLE"==e.error?y(k):y("無効なURLです。")}})]}),(0,s.jsx)("p",{className:"text-red-600",children:v}),function(){if(v==k)return(0,s.jsx)("div",{className:"p-10 mx-auto",children:(0,s.jsx)("img",{src:"https://i.gyazo.com/c13353fcbacce087b7dd3a42985d19c0.png",style:{maxHeight:"89px",width:"100%",objectFit:"contain"},alt:""})})}()]}),(0,s.jsx)("p",{className:"text-left text-secondary",children:(0,s.jsx)(x(),{href:"/ja/help/find",children:(0,s.jsxs)("a",{className:"underline",children:[(0,s.jsx)(r.G,{icon:l.Psp,className:"mr-2"}),"書籍が見つからない場合..."]})})})]})},N=n(1511),v=n(9028),y=n(5921),w=n(1326),k=n(1055),S=n(909),C=function(e){var t=e.isbn;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-center items-center m-3",children:[(0,s.jsx)(w.Z,{isbn:t}),(0,s.jsx)(S.Z,{isbn:t}),(0,s.jsx)(k.Z,{isbn:t})]}),(0,s.jsx)("p",{className:"text-center text-secondary",children:(0,s.jsx)(x(),{href:"/ja/help/find",children:(0,s.jsxs)("a",{className:"underline",children:[(0,s.jsx)(r.G,{icon:l.Psp,className:"mr-2"}),"取り扱い書店の追加をリクエストする..."]})})})]})},_=n(7313),T=n(3430),R=n(4549),Z=n(9881),I=n(1163),E=function(){var e=function(){return"string"==typeof x?decodeURIComponent(x):""},t=(0,I.useRouter)(),n=t.query,d=n.isbn,u=n.from,x=n.comment,m=(0,a.useState)(null),h=m[0],f=m[1],j=(0,a.useState)(""),p=j[0],b=j[1],w=(0,a.useState)(!1),k=w[0],S=w[1],E=(0,a.useState)(""),M=E[0],G=E[1],U=(0,a.useRef)(null);(0,a.useEffect)(function(){B(e())},[x]);var L,z,P=(0,a.useState)(e()),D=P[0],B=P[1];return(0,a.useEffect)(function(){t.isReady&&("string"==typeof d?(S(!1),(0,o.X7)(d,"string"==typeof u?u:"").then(function(e){e?(f(e),S(!1)):b("書籍情報を見つけることができませんでした。")}).catch(function(){b("通信エラー。時間を置いてからご確認ください。")})):S(!0))},[t.query]),(0,s.jsxs)("div",{children:[(0,s.jsx)(N.Z,{title:"本を知り合いに紹介する - 読書日より/Share Books",description:"登録不要で簡単に書籍を共有・紹介できるサイトです。書籍レビューや書店へのリンクを含む共有URLを発行することができます。ご自由にお使いください。",pageUrl:"https://books.sn-10.net/ja/share",ogType:"product"}),(0,s.jsx)(v.Z,{}),(0,s.jsx)("main",{children:(0,s.jsx)("div",{className:"w-full px-2 ",children:k||""!=p?(0,s.jsx)(g,{errorText:p}):h?(0,s.jsxs)("div",{className:"mx-auto",style:{maxWidth:"1250px"},children:[(0,s.jsxs)("div",{className:"flex items-center justify-center pt-5 pb-2",children:[function(){if(""!=h.thumbnail)return(0,s.jsx)("span",{className:"mr-2",children:(0,s.jsx)(c.Z,{src:h.thumbnail})})}(),(0,s.jsx)("span",{className:"text-3xl",children:h.title})]}),(0,s.jsxs)("p",{className:"text-secondary text-center",children:[(0,s.jsxs)("span",{className:"text-xl",children:["ISBN : ",h.isbn]}),(0,s.jsx)("button",{className:"text-sm bg-transparent hover:bg-blue-500 text-blue-500 font-semibold hover:text-white py-1 px-2 border border-blue-500 hover:border-transparent rounded ml-2",onClick:function(){R.Z.writeText(h.isbn)},children:"コピー"})]}),(0,s.jsxs)("p",{className:"text-center",children:[function(){if(""!=h.author)return(0,s.jsxs)("span",{children:["著者: ",h.author]})}(),function(){if(""!=h.publisher){var e=""!=h.author?" / ":"";return(0,s.jsxs)("span",{children:[e,"出版社 :",h.publisher]})}}()]}),(0,s.jsx)("p",{className:"text-center mt-1 line-clamp-5",children:h.description}),(0,s.jsxs)("div",{className:"p-10",children:[(0,s.jsx)(i,{comment:D,onChange:function(e){B(e)},ref:U}),(0,s.jsxs)("div",{className:"text-center mt-6 mb-10",children:[(0,s.jsxs)("button",{className:"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded",onClick:function(){var e;G("共有URLをコピーしました。"),null==U||null===(e=U.current)||void 0===e||e.finishEditing(),R.Z.writeText((0,o.Sn)(h.isbn,h.from,D)),(0,T.b)({key:"completedSharing",data:{type:"default",url:""}})},children:["この本を共有する",(0,s.jsx)("br",{}),(0,s.jsx)("small",{children:"URLをコピー"})]}),function(){if(""!=M)return(0,s.jsx)("p",{className:"text-center text-secondary",children:(0,s.jsx)("small",{children:M})})}(),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mt-3 flex justify-center items-center flex-wrap",children:[(L="",L=""!=D?(D.length>75?D.slice(0,70)+"...":D)+"\n\n"+"書籍「".concat(h.title,"」の紹介"):"書籍「".concat(h.title,"」の紹介です。"),z=(0,o.Sn)(h.isbn,h.from,D),(0,s.jsx)(_.Z,{text:L,url:z})),(0,s.jsxs)("button",{onClick:function(){var e;G("マークダウン形式でコピーしました。"),null==U||null===(e=U.current)||void 0===e||e.finishEditing(),R.Z.writeText((0,Z.GE)({bookData:h,comment:D,isWriteSiteName:!0})),(0,T.b)({key:"completedSharing",data:{type:"default",url:""}})},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-full inline-flex items-center m-2",children:[(0,s.jsx)(r.G,{icon:l.kZ_,className:"mr-1"}),(0,s.jsx)("span",{children:"マークダウン形式で共有"})]})]}),(0,s.jsxs)("small",{className:"text-secondary",children:[(0,s.jsx)("b",{children:"note"}),"や",(0,s.jsx)("b",{children:"Notion"}),"などのサイトには「マークダウン形式で共有」がおすすめです!"]})]}),(0,s.jsx)("a",{href:(0,o.k5)([new URL((0,o.Sn)(h.isbn,h.from,D)),],"amazon",""),className:"underline text-blue-500 mt-2",children:"他の書籍とまとめて共有する"})]}),(0,s.jsx)("hr",{}),(0,s.jsxs)("div",{className:"pt-2",children:[(0,s.jsxs)("h1",{className:"text-xl",children:[(0,s.jsx)(r.G,{icon:l.Y$T,className:"mr-2"}),"書店を探す"]}),(0,s.jsx)("small",{children:"紙の書籍と電子書籍両方のリンクが含まれます。選択にご注意ください。"}),(0,s.jsx)(C,{isbn:h.isbn})]})]})]}):(0,s.jsx)("div",{children:(0,s.jsx)(y.Z,{})})})}),(0,s.jsxs)("footer",{children:[(0,s.jsx)("hr",{}),(0,s.jsx)("p",{className:"text-center",children:(0,s.jsx)("a",{className:"underline",href:"https://hello.sn-10.net",children:"sn-10.net"})})]})]})}}},function(e){e.O(0,[976,948,515,639,422,675,774,888,179],function(){return e(e.s=910)}),_N_E=e.O()}]);